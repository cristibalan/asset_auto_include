AssetAutoInclude
=====================

== Resources

  script/plugin install git://github.com/evilchelu/asset_auto_include.git
 
== Usage

Add the following to the head of your template file

  <%= asset_auto_include_tags :javascript, {options} %>
  <%= asset_auto_include_tags :stylesheet, {options} %>

Options:
 :auto_dir this can be set to change the location of the autoloaded files, it is 'auto' by default, it can be set to 'views' for compatibility with javascript_auto_include

Javascript specific options:
 :method the ActionView::Helper::AssetTag to use, the default is 'javascript_include_tag'
 :extension the file extension for the javascript file, 'js' is the default
 :directory the directory for the javascript files, 'javascripts' is the default

Stylesheet specific options:
 :method the ActionView::Helper::AssetTag to use, the default is 'stylesheet_link_tag'
 :extension the file extension for the stylesheet file, 'css' is the default
 :directory the directory for the stylesheet files, 'stylesheets' is the default
 :template_extension used for an alternate templating system, 'sass' is the default
 :template_directory used for an alternate templating sytem, 'stylesheets/sass' is the default
 
Now each time the template is loaded asset files in the 
public/(javascripts|stylesheets)/ folder that correspond to the name of the
current controller or view will be auto loaded. For example:

  /public
    /javascripts
      /auto
        /accounts
          show.js

  /public
    /stylesheets
      /auto
        users.css
        /users
          edit.css

Assuming the above file structure loading each of the following urls would load:
 
 mydomain.com/accounts        # no js files loaded
 mydomain.com/accounts/show/1 # loads auto/accounts/show.js
 mydomain.com/users           # loads auto/users/users.css
 mydomain.com/users/1/edit    # loads auto/users/users.css
                                loads auto/users/edit.css

There's also support for sass files. When using :stylesheet, the sass directory 
is also checked, along with the stylesheets directory.

  /public
    /stylesheets
      /sass
        /auto
          /posts
            view.sass

Assuming the above file structure loading each of the following urls would load:

 mydomain.com/users/1           # loads auto/posts/view.css

Namespace is supported so for the following

  /public
    /javascripts
      /auto
        admin.js
        /admin
          /dashboard
            index.js

Assuming the above file structure loading each of the following urls would load:
 
 mydomain.com/admin/dashboard        # loads auto/admin/dashboard/index.js and auto/admin.js


You can also load a default .js or .css file.  They should be located at

 /public
    /javascripts
      auto.js

  /public
    /stylesheets
      auto.css
      
== Aknowledgements

This plugin was originally based on the javascript_auto_include by Jamie Dyer.

If you want the original plugin:

  http://github.com/kernow/javascript_auto_include/tree/master
  http://hosting.media72.co.uk/blog/2008/05/13/asset-auto-include-rails-plugin/

